<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Article 6: Custom crop requirements input â€¢ ALUES</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Article 6: Custom crop requirements input">
<meta property="og:description" content="ALUES">
<meta property="og:image" content="/logo.svg">
<meta property="og:image:alt" content="ALUES logo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ALUES</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ALUES.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a01_datasets.html">Article 1: ALUES datasets</a>
    </li>
    <li>
      <a href="../articles/a02_theory_of_suit.html">Article 2: Methodology used in ALUES</a>
    </li>
    <li>
      <a href="../articles/a03_understanding_suit.html">Article 3: Understanding the suit function</a>
    </li>
    <li>
      <a href="../articles/a04_understanding_overall_suit.html">Article 4: Understanding the overall_suit function</a>
    </li>
    <li>
      <a href="../articles/a05_custom_land_units_input.html">Article 5: Custom input land units</a>
    </li>
    <li>
      <a href="../articles/a06_custom_crop_input.html">Article 6: Custom crop requirements input</a>
    </li>
    <li>
      <a href="../articles/a07_visual_maps.html">Article 7: Visualizing with maps</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/alstat/ALUES/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="a06_custom_crop_input_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Article 6: Custom crop requirements input</h1>
            
            <h4 class="date">2021-09-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/alstat/ALUES/blob/master/vignettes/a06_custom_crop_input.Rmd"><code>vignettes/a06_custom_crop_input.Rmd</code></a></small>
      <div class="hidden name"><code>a06_custom_crop_input.Rmd</code></div>

    </div>

    
    
<p>As already emphasized in Article 2, the following are the crop datasets available in ALUES:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"ALUES"</span><span class="op">)</span>
<span class="va">alues_data</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">results</span><span class="op">[</span>, <span class="st">"Item"</span><span class="op">]</span>
<span class="va">crop_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/regmatches.html">regmatches</a></span><span class="op">(</span><span class="va">alues_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gregexpr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"^[A-Z]{2,}"</span>, collapse <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span>, <span class="va">alues_data</span><span class="op">)</span><span class="op">)</span>
<span class="va">crop_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">crop_data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">crop_data</span></code></pre></div>
<pre><code>##  [1] "ALFALFA"    "AVOCADO"    "BAMBOO"     "BANANA"     "BARLEY"    
##  [6] "BEANCA"     "BEANS"      "CABBAGE"    "CARROTS"    "CASHEW"    
## [11] "CASSAVA"    "CHICKPEA"   "CINNAMON"   "CITRUS"     "COCOA"     
## [16] "COCONUT"    "COFFEEAR"   "COFFEERO"   "COTTON"     "COWPEA"    
## [21] "CUCUMBER"   "GROUNDNUTS" "GUAVA"      "LONGAN"     "MAIZE"     
## [26] "MANGO"      "MILLETS"    "OILPALM"    "OLIVES"     "ONION"     
## [31] "PAPAYA"     "PEACH"      "PEAR"       "PEA"        "PEPPERGR"  
## [36] "PERSIMMON"  "PINEAPPLE"  "PLUM"       "POTATOSW"   "POTATO"    
## [41] "RICEBR"     "RICEIW"     "RICENF"     "RICEUR"     "RUBBER"    
## [46] "SAFFLOWER"  "SESAME"     "SORGHUM"    "SOYA"       "SUGARCANE" 
## [51] "SUNFLOWER"  "TEA"        "TOBACCO"    "TOMATO"     "WATERMELON"
## [56] "WHEAT"</code></pre>
<p>In cases were the target crop is not available in the ALUES database, users can specify their own by following the template of a crop requirement dataset. For example,</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alstat/ALUES">ALUES</a></span><span class="op">)</span></code></pre></div>
<pre><code>## Loading required package: Rcpp</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">COFFEEARSoil</span></code></pre></div>
<pre><code>##       code s3_a s2_a  s1_a s1_b s2_b s3_b wts
## 1   CFragm 55.0 35.0  15.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   3
## 2  SoilDpt 50.0 75.0 100.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   1
## 3    CaCO3  5.0  2.0   1.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   3
## 4     Gyps  3.0  2.0   0.5 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   3
## 5     CECc  8.0 10.0  16.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   2
## 6       BS 20.0 35.0  50.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   2
## 7   SumBCs  1.6  2.8   4.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   2
## 8    pHH2O  5.2  5.4   5.6  6.6  7.4  7.8   2
## 9       OC  0.7  0.8   1.2 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   3
## 10   ECedS  2.0  0.5   0.5 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   3
## 11  SoilTe  3.0  4.0   9.0 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   2</code></pre>
<p>The above data frame shows us the first column as the code of the target factors, and the remaining of the columns are the suitability classes with the last column for the weights if any.</p>
<div id="crop-characteristics" class="section level2">
<h2 class="hasAnchor">
<a href="#crop-characteristics" class="anchor"></a>Crop Characteristics</h2>
<p>It should be noted that apart from the proper templating of the dataframe for any new target crop, the categorization of the characteristics must be observed as well. That is, for any new crop the four characteristics, terrain, soil, water, and temp, must be encoded separately as one dataframe. That is, for any target crop there will be four dataframes to expect for the four characteristics mentioned.</p>
</div>
<div id="creating-from-a-template" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-from-a-template" class="anchor"></a>Creating from a template</h2>
<p>To create a custom crop dataset, use the following code to generate an empty row data frame with the appropriate column name</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_crop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>nrow<span class="op">=</span><span class="fl">0</span>, ncol<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">COFFEEARSoil</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">new_crop</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">COFFEEARSoil</span><span class="op">)</span>
<span class="va">new_crop</span></code></pre></div>
<pre><code>## [1] code s3_a s2_a s1_a s1_b s2_b s3_b wts 
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<p>Needless to say, any ALUES crop dataset can be used above in place of <code>COFFEEARSoil</code>, since all crop datasets have the same column names.</p>
<p>Next is to enter the name of the factors in the first column, and then the corresponding standard values for suitability classes. Suppose for example, the new crop demands a factor CFragm to be S3 (marginally suitable) if it is 60, S2 if it is 40, and S1 if it is 20; then this can be entered as follows:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_crop</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"code"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"CFragm"</span>
<span class="va">new_crop</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">40</span>, <span class="fl">20</span><span class="op">)</span>
<span class="va">new_crop</span></code></pre></div>
<pre><code>##     code s3_a s2_a s1_a s1_b s2_b s3_b wts
## 1 CFragm   60   40   20   NA   NA   NA  NA</code></pre>
<p>New factors can be added further in the succeeding rows, say for row 2 we have pHH2O with the following data</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_crop</span><span class="op">[</span><span class="fl">2</span>, <span class="st">"code"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"pHH2O"</span>
<span class="va">new_crop</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4.5</span>, <span class="fl">5.0</span>, <span class="fl">5.1</span>, <span class="fl">5.6</span>, <span class="fl">6.2</span>, <span class="fl">6.9</span><span class="op">)</span>
<span class="va">new_crop</span></code></pre></div>
<pre><code>##     code s3_a s2_a s1_a s1_b s2_b s3_b wts
## 1 CFragm 60.0   40 20.0   NA   NA   NA  NA
## 2  pHH2O  4.5    5  5.1  5.6  6.2  6.9  NA</code></pre>
<p>Adding weight to pHH2O is done as follows:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_crop</span><span class="op">[</span><span class="fl">2</span>, <span class="st">"wts"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">new_crop</span></code></pre></div>
<pre><code>##     code s3_a s2_a s1_a s1_b s2_b s3_b wts
## 1 CFragm 60.0   40 20.0   NA   NA   NA  NA
## 2  pHH2O  4.5    5  5.1  5.6  6.2  6.9   2</code></pre>
<p>Now suppose we want to evaluate Marinduque land units for this new crop, we can do this as follows:</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Al-Ahmadgaid B. Asaad, Arnold R. Salvacion.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
